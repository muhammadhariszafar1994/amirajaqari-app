<!DOCTYPE html>
<html>
<head>
<title>Canvas.dataURL tainted(polluted) Issue</title>
  	<script type="text/javascript" src="http://fabricjs.com/lib/fabric.js"></script>
</head>
<body>

<canvas id="canvas" height=500 width=500 style="border:1px solid lightgrey"></canvas>



<script>

// (function() {
//   let canvas = this.__canvas = new fabric.Canvas('canvas');
//   fabric.Object.prototype.transparentCorners = false;

//   // Initialize Fabric.js objects (text and shape)

//   let shape = new fabric.Rect({ left: 100, top: 100, width: 100, height: 100, fill: 'red' });
//   let path = new fabric.Path("M-0.000,0.123 C-0.000,0.123 163.000,90.679 326.000,0.123 L326.000,253.679 C326.000,253.679 181.111,326.123 -0.000,253.679 L-0.000,0.123 Z", {
//       left: 50,
//       top: 50
//   });

//   canvas.add(shape, path);

//   function loadPattern(url) {
//     fabric.util.loadImage(url, function(img) {
//       text.set('fill', new fabric.Pattern({
//         source: img,
//         repeat: document.getElementById('repeat').value
//       }));
//       shape.set('fill', new fabric.Pattern({
//         source: img,
//         repeat: document.getElementById('repeat').value
//       }));
//       canvas.renderAll();
//     });
//   }

//   loadPattern('http://homestead81.test/testing/uk-flag.png');
// })();

    const canvas = new fabric.Canvas('canvas');
    const pathData = "M78.42,346.81c0,0,117.97,46.5,284.18,0V54.31c0,0-124.27,48.24-284.18,0V346.81z";

    const path = new fabric.Path(pathData, {
        left: 0,
        top: 0,
        fill: '', 
        stroke: 'black',
    });
    
    // const imageUrl = 'http://homestead81.test/amiraqajari-app/src/assets/images/spiderman.jpg'; 

    // const imgElement = new Image(); 
    // imgElement.onload = function() {
    //     const pattern = new fabric.Pattern({
    //       source: imgElement,
    //       repeat: 'repeat',
    //     });
    //     path.set({
    //       fill: pattern
    //     });
    //     canvas.add(path);
    // };

    // imgElement.onerror = e => console.error('Failed to load image:', imageUrl);
    // imgElement.src = imageUrl; 

      

    
  </script>
</body>
</html>






